# ============================================
# SOLANA DEX - ANCHOR PROGRAM CONFIGURATION
# ============================================
# This file contains all configuration parameters for the Solana smart contract
# Copy this file to .env and update with your actual values
#
# IMPORTANT: Never commit the .env file to version control
# ============================================

# ==============================================
# NETWORK CONFIGURATION
# ==============================================

# Solana Network Environment
# Description: Determines which Solana cluster to deploy to
# Options:
#   - devnet: Free testing environment, ideal for development
#   - testnet: Another testing environment (less commonly used)
#   - mainnet-beta: Production Solana blockchain (costs real SOL)
# Default: devnet
# Example: SOLANA_NETWORK=devnet
SOLANA_NETWORK=devnet

# Solana RPC URL
# Description: The HTTP endpoint for connecting to Solana blockchain
# Purpose: Used for sending transactions and querying blockchain data
# Devnet RPC: https://api.devnet.solana.com
# Mainnet RPC: https://api.mainnet-beta.solana.com
# Premium RPCs (faster, more reliable):
#   - Helius: https://rpc.helius.xyz/?api-key=YOUR_KEY
#   - QuickNode: https://YOUR_ENDPOINT.quiknode.pro/
#   - Alchemy: https://solana-mainnet.g.alchemy.com/v2/YOUR_KEY
# Default: https://api.devnet.solana.com
SOLANA_RPC_URL=https://api.devnet.solana.com

# Solana WebSocket URL
# Description: WebSocket endpoint for real-time blockchain updates
# Purpose: Listen to account changes, transaction confirmations in real-time
# Devnet WS: wss://api.devnet.solana.com
# Mainnet WS: wss://api.mainnet-beta.solana.com
# Default: wss://api.devnet.solana.com
SOLANA_WEBSOCKET_URL=wss://api.devnet.solana.com

# ==============================================
# WALLET CONFIGURATION
# ==============================================

# Deployer Wallet Keypair Path
# Description: Path to the JSON keypair file used for deployment
# Purpose: This wallet pays for program deployment and owns the deployed program
# Requirements:
#   - Must have sufficient SOL for deployment (~2-5 SOL on mainnet, ~2 SOL on devnet)
#   - File must be a valid Solana keypair in JSON format
# How to create:
#   solana-keygen new --outfile ~/.config/solana/devnet.json
# Security: NEVER share this file or commit to version control
# Default: ~/.config/solana/devnet.json
DEPLOYER_KEYPAIR_PATH=~/.config/solana/devnet.json

# Wallet for Initial Pool Creation (optional)
# Description: Keypair for creating the first liquidity pool after deployment
# Purpose: Separate wallet for initial liquidity provision
# Default: Uses DEPLOYER_KEYPAIR_PATH if not specified
POOL_CREATOR_KEYPAIR_PATH=

# ==============================================
# PROGRAM CONFIGURATION
# ==============================================

# DEX Program ID
# Description: The on-chain address of your deployed DEX program
# Purpose: Unique identifier for your smart contract on Solana
# How to get:
#   1. Run: anchor build
#   2. Run: solana address -k target/deploy/dex-keypair.json
#   3. Copy the output and paste here
#   4. Update in programs/dex/src/lib.rs in declare_id! macro
#   5. Rebuild: anchor build
# Format: Base58 string (43-44 characters)
# Example: DEXprog11111111111111111111111111111111111111
# IMPORTANT: Leave empty for first build, then update after deployment
PROGRAM_ID=

# Program Version
# Description: Semantic version of your program for tracking upgrades
# Purpose: Version control and documentation
# Format: MAJOR.MINOR.PATCH
# Default: 0.1.0
PROGRAM_VERSION=0.1.0

# Program Name
# Description: Display name of the program
# Purpose: Identification and documentation
# Default: dex
PROGRAM_NAME=dex

# ==============================================
# DEX PARAMETERS - FEES
# ==============================================

# Default Swap Fee (Basis Points)
# Description: Default fee charged on every token swap
# Purpose: Revenue for liquidity providers
# Unit: Basis points (1/100 of 1%)
# Calculation:
#   - 1 basis point = 0.01%
#   - 100 basis points = 1%
#   - 30 basis points = 0.3%
# Range: 1 - 1000 (0.01% - 10%)
# Common values:
#   - Uniswap V2: 30 (0.3%)
#   - Uniswap V3 low: 5 (0.05%)
#   - Uniswap V3 medium: 30 (0.3%)
#   - Uniswap V3 high: 100 (1%)
# Example: 30 means 0.3% fee on every swap
# Default: 30 (0.3%)
DEFAULT_SWAP_FEE_BPS=30

# Maximum Allowed Fee Rate (Basis Points)
# Description: Maximum fee that can be set when creating a pool
# Purpose: Prevents pool creators from setting exploitative fees
# Unit: Basis points
# Hardcoded in: programs/dex/src/constants.rs as MAX_FEE_BPS
# Range: 1 - 10000 (0.01% - 100%)
# Recommended maximum: 1000 (10%)
# Default: 1000 (10%)
# Note: This is enforced on-chain in the smart contract
MAX_FEE_BPS=1000

# Liquidity Provider Fee Share (Percentage)
# Description: Percentage of swap fees that go to liquidity providers
# Purpose: Incentivize liquidity provision
# Unit: Percentage (0-100)
# Example: 100 means 100% of fees go to LPs (recommended for MVP)
# Future: Could be 80 if 20% goes to protocol treasury
# Default: 100 (all fees to LPs)
LP_FEE_SHARE_PERCENT=100

# ==============================================
# DEX PARAMETERS - LIQUIDITY
# ==============================================

# Minimum Initial Liquidity
# Description: Minimum amount required to initialize a pool
# Purpose:
#   - Prevents dust attacks
#   - Ensures pools have meaningful liquidity
#   - Protects against price manipulation
# Unit: Base units (lamports for SOL, smallest unit for tokens)
# Hardcoded in: programs/dex/src/constants.rs as MIN_LIQUIDITY
# Calculation: For 9 decimal token, 1000 = 0.000001 tokens
# Default: 1000
# Note: This is the minimum LP tokens minted on first deposit
MIN_LIQUIDITY=1000

# ==============================================
# TOKEN CONFIGURATION - EBOOKITO (EBK)
# ==============================================

# EBK Token Mint Address
# Description: On-chain address of the EBOOKITO (EBK) token
# Purpose: Primary base token for this DEX, used in initial pools
# Source: Created on pump.fun
# Address: FENfZkkFXGBVYKNL5Z75guxaVhPJDjJGXPHW8bJWpump
# Decimals: 9
# Symbol: EBK
# Name: Ebookito
# Client ownership: 12% of total supply
# Pump.fun link: https://pump.fun/coin/FENfZkkFXGBVYKNL5Z75guxaVhPJDjJGXPHW8bJWpump
BASE_TOKEN_MINT=FENfZkkFXGBVYKNL5Z75guxaVhPJDjJGXPHW8bJWpump

# Base Token Decimals
# Description: Number of decimal places for the base token
# Purpose: Token precision and display formatting
# Standard: 9 (same as SOL)
# Default: 9
BASE_TOKEN_DECIMALS=9

# Base Token Symbol
# Description: Short ticker symbol for the token
# Purpose: Display in UI and identification
# Example: EBK, SOL, USDC
# Default: EBK
BASE_TOKEN_SYMBOL=EBK

# Base Token Name
# Description: Full name of the token
# Purpose: Display and documentation
# Default: Ebookito
BASE_TOKEN_NAME=Ebookito

# ==============================================
# INITIAL POOL CONFIGURATION
# ==============================================

# Initial Pool - Token A Mint
# Description: First token in the initial liquidity pool
# Purpose: EBK token as primary trading pair
# Default: Uses BASE_TOKEN_MINT (EBK)
# Leave empty to use BASE_TOKEN_MINT
INITIAL_POOL_TOKEN_A=FENfZkkFXGBVYKNL5Z75guxaVhPJDjJGXPHW8bJWpump

# Initial Pool - Token B Mint
# Description: Second token in the initial liquidity pool
# Purpose: Trading pair with EBK
# Common options:
#   - Wrapped SOL: So11111111111111111111111111111111111111112
#   - USDC (Devnet): Gh9ZwEmdLJ8DscKNTkTqPbNwLNNBjuSzaG9Vp2KGtKJr
#   - USDC (Mainnet): EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
# Recommended: Wrapped SOL for maximum liquidity
# Default: Wrapped SOL
INITIAL_POOL_TOKEN_B=So11111111111111111111111111111111111111112

# Initial Liquidity - Token A Amount
# Description: Amount of Token A to deposit in the initial pool
# Purpose: Establishes initial liquidity and price ratio
# Unit: Base units (with decimals included)
# Calculation: For 9 decimals, 1000000000 = 1 token
# Example values:
#   - 1000000000 = 1 token
#   - 100000000000 = 100 tokens
#   - 1000000000000 = 1,000 tokens
# Recommendation: Start with smaller amounts on devnet for testing
# Default: 1000000000 (1 EBK token)
INITIAL_LIQUIDITY_A=1000000000

# Initial Liquidity - Token B Amount
# Description: Amount of Token B to deposit in the initial pool
# Purpose: Establishes price ratio with Token A
# Unit: Base units (with decimals included)
# Price calculation: Price of A in terms of B = LIQUIDITY_B / LIQUIDITY_A
# Example: If A=1000000000 and B=1000000000, then 1 EBK = 1 SOL
# Default: 1000000000 (1 SOL)
INITIAL_LIQUIDITY_B=1000000000

# Initial Pool Fee Rate (Basis Points)
# Description: Swap fee for the initial pool
# Purpose: Revenue for initial liquidity providers
# Unit: Basis points (30 = 0.3%)
# Default: 30 (0.3%, standard AMM fee)
INITIAL_POOL_FEE_BPS=30

# ==============================================
# DEPLOYMENT CONFIGURATION
# ==============================================

# Priority Fee (Lamports)
# Description: Additional fee to prioritize transaction processing
# Purpose: Faster transaction confirmation during network congestion
# Unit: Lamports (1 lamport = 0.000000001 SOL)
# When to use:
#   - High network congestion
#   - Time-sensitive deployments
#   - Production deployments
# Cost examples:
#   - 1000 lamports = 0.000001 SOL (very low)
#   - 100000 lamports = 0.0001 SOL (medium)
#   - 1000000 lamports = 0.001 SOL (high)
# Default: 1000 (0.000001 SOL)
# Set to 0 to disable
PRIORITY_FEE_LAMPORTS=1000

# Compute Unit Limit
# Description: Maximum compute units allocated for transactions
# Purpose: Prevents transaction failure due to compute budget
# Unit: Compute units
# Range: 200 - 1,400,000
# Default: 200000 (sufficient for most transactions)
# Increase if transactions fail with "exceeded compute budget"
# Cost: Higher limits cost more in fees
COMPUTE_UNIT_LIMIT=200000

# Transaction Confirmation Commitment
# Description: How many confirmations to wait for
# Purpose: Balance between speed and finality
# Options:
#   - processed: Fastest, least certain (~400ms)
#   - confirmed: Balanced, recommended (~4s)
#   - finalized: Slowest, most certain (~13s)
# Default: confirmed
# Production recommendation: finalized
COMMITMENT=confirmed

# Skip Preflight Checks
# Description: Skip transaction simulation before sending
# Purpose: Faster development, but riskier
# Options: true, false
# Warning: Only use true in development!
# Production: Must be false
# Default: false
SKIP_PREFLIGHT=false

# ==============================================
# TESTING CONFIGURATION
# ==============================================

# Run Tests on Deploy
# Description: Automatically run Anchor tests after deployment
# Purpose: Verify deployment succeeded correctly
# Options: true, false
# Default: true (recommended)
RUN_TESTS_ON_DEPLOY=true

# Test Token Airdrop Amount
# Description: Amount of devnet SOL to airdrop for testing
# Purpose: Fund test wallets automatically
# Unit: SOL (not lamports)
# Default: 2 (2 SOL)
# Note: Only works on devnet
TEST_AIRDROP_AMOUNT=2

# ==============================================
# DEVELOPMENT / DEBUG
# ==============================================

# Debug Mode
# Description: Enable verbose logging and debug information
# Purpose: Troubleshooting and development
# Options: true, false
# Impact: More console output, slower performance
# Default: false
# Set to true when debugging issues
DEBUG_MODE=false

# Log Level
# Description: Verbosity level for logging
# Purpose: Control amount of information logged
# Options: error, warn, info, debug, trace
# Default: info
# Development: debug
# Production: warn or error
LOG_LEVEL=info

# ==============================================
# ANCHOR SPECIFIC CONFIGURATION
# ==============================================

# Anchor Provider Wallet
# Description: Wallet used by Anchor provider
# Purpose: Sign transactions during testing and deployment
# Default: Uses DEPLOYER_KEYPAIR_PATH
ANCHOR_WALLET=$DEPLOYER_KEYPAIR_PATH

# Anchor Provider URL
# Description: RPC URL for Anchor provider
# Purpose: Blockchain connection for Anchor framework
# Default: Uses SOLANA_RPC_URL
ANCHOR_PROVIDER_URL=$SOLANA_RPC_URL

# ==============================================
# SECURITY NOTES
# ==============================================
#
# CRITICAL SECURITY PRACTICES:
#
# 1. NEVER commit .env file to version control
#    - Add .env to .gitignore
#    - Only commit .env.example
#
# 2. NEVER share your keypair files
#    - Keep DEPLOYER_KEYPAIR_PATH file secure
#    - Use separate wallets for dev/prod
#
# 3. Use different configs for different environments
#    - .env.development for devnet
#    - .env.production for mainnet
#
# 4. Mainnet checklist:
#    - [ ] Change SOLANA_NETWORK to mainnet-beta
#    - [ ] Update SOLANA_RPC_URL to mainnet
#    - [ ] Use production wallet with real SOL
#    - [ ] Set SKIP_PREFLIGHT=false
#    - [ ] Set COMMITMENT=finalized
#    - [ ] Set DEBUG_MODE=false
#    - [ ] Test thoroughly on devnet first!
#
# 5. Backup your keys
#    - Keep offline backups of keypair files
#    - Store recovery phrases securely
#
# ==============================================

# ==============================================
# DEPLOYMENT CHECKLIST
# ==============================================
#
# BEFORE FIRST DEPLOYMENT:
# 1. [ ] Copy this file to .env
# 2. [ ] Update DEPLOYER_KEYPAIR_PATH with your wallet
# 3. [ ] Get devnet SOL: solana airdrop 2 --url devnet
# 4. [ ] Run: anchor build
# 5. [ ] Get program ID: solana address -k target/deploy/dex-keypair.json
# 6. [ ] Update PROGRAM_ID in this file
# 7. [ ] Update declare_id! in programs/dex/src/lib.rs
# 8. [ ] Rebuild: anchor build
# 9. [ ] Deploy: anchor deploy
# 10. [ ] Update frontend/.env with same PROGRAM_ID
#
# FOR MAINNET DEPLOYMENT:
# 1. [ ] Test thoroughly on devnet
# 2. [ ] Audit smart contract (recommended)
# 3. [ ] Create new mainnet wallet
# 4. [ ] Fund with sufficient SOL (5-10 SOL recommended)
# 5. [ ] Update all network settings to mainnet-beta
# 6. [ ] Update SOLANA_RPC_URL to premium RPC (recommended)
# 7. [ ] Build: anchor build
# 8. [ ] Deploy: anchor deploy --provider.cluster mainnet
# 9. [ ] Verify deployment on Solana Explorer
# 10. [ ] Update frontend .env with mainnet config
#
# ==============================================
